(function(){
	$(".articNavItem").click(function(){//导航栏点击加载表格数据
		var Index = $(this).index();

		var tableId = "#table" + Index;
		var pageDivId = "#tablePage" + Index;
// alert(tableId);
		switch(Index){
				case 1:
					$.ajax({
							type:"GET",
							url:"json.json",
							dataType:"json",
							success:function(data){
								// var ar = eval("("+data+")");
								var ar = data.key;
								
								var ad = ar[0];
								// var oo = eval("("+ad+")");
								// var ad = ar.name;
								// tableSuccess(tableId,pageDivId,data);
								alert(ad.name);

							}
						})	
				break;
				default:break;
			};
	});

	//tableId所用的table的id，pageDivId为tablePage的id，data为ajax加载之后的数组
	function tableSuccess(a,b,c){//tableId,pageDivId,data
		// alert(c.name);
		$(a)
		.find("tbody").html("");
		// for(var j=0;j<6;j++){
			$(a)
			.find("tbody")
			.append(
				// data[j];	
				"<tr><td>"+c.name+"</td><td>"+c.name+"</td><td>"+c.name+"</td><td>"+c.name+"</td><td>"+c.name+"</td><td>"+c.name+"</td></tr>"						
			);
		// };
		createPage(a,b);		
	};
	
	function createPage(e,f){//tableId,pageDivId
		// $(f).addClass("color");
		var trLength = $(e).find("tbody").find("tr").length;//获取行数
		var pageCounts = Math.ceil(trLength/10);//页数  向上取整
		for(var i=1;i<=pageCounts;i++){
			$(f).append("<div>"+i+"</div>");//添加页面框
		};
		$(f).find("div").click(function(tableId){pageClick(e);});
	};

	function pageClick(i){//tableId
			var pageIndex = $(this).index()+1;
			$(i)
			.find("tbody")               
			.find("tr").hide();          //清空tbody内容
			for(var j=(Index-1)*10;j<=Index*10-1;j++){
				$(i)
				.find("tbody")
				.find("tr")
				.eq(j).show();           //显示该页面的内容，选择第n个来显示
			}
		};
})()